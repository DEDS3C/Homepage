<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>7.3.2.4 Traceroute – Testing the Path</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_7.3.2.4_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>Traceroute – Testing the Path</h1>
        <div>
          <p>Ping is used to test connectivity between two hosts but does not provide information about the details of devices between the hosts. Traceroute (tracert) is a utility that generates a list of hops that were successfully reached along the path. This list can provide important verification and troubleshooting information. If the data reaches the destination, then the trace lists the interface of every router in the path between the hosts. If the data fails at some hop along the way, the address of the last router that responded to the trace can provide an indication of where the problem or security restrictions are found.</p>
          <p>
            <b>Round Trip Time (RTT)</b>
          </p>
          <p>Using traceroute provides round trip time for each hop along the path and indicates if a hop fails to respond. The round trip time is the time a packet takes to reach the remote host and for the response from the host to return. An asterisk (*) is used to indicate a lost or unreplied packet. </p>
          <p>This information can be used to locate a problematic router in the path. If the display shows high response times or data losses from a particular hop, this is an indication that the resources of the router or its connections may be stressed.</p>
          <p>
            <b>IPv4 TTL and IPv6 Hop Limit</b>
          </p>
          <p>Traceroute makes use of a function of the TTL field in IPv4 and the Hop Limit field in IPv6 in the Layer 3 headers, along with the ICMP time exceeded message. </p>
          <p>Play the animation in the figure to see how Traceroute takes advantage of TTL. </p>
          <p>The first sequence of messages sent from traceroute will have a TTL field value of 1. This causes the TTL to time out the IPv4 packet at the first router. This router then responds with an ICMPv4 message. Traceroute now has the address of the first hop.</p>
          <p>Traceroute then progressively increments the TTL field (2, 3, 4...) for each sequence of messages. This provides the trace with the address of each hop as the packets timeout further down the path. The TTL field continues to be increased until the destination is reached, or it is incremented to a predefined maximum.</p>
          <p>After the final destination is reached, the host responds with either an ICMP port unreachable message or an ICMP echo reply message instead of the ICMP time exceeded message.</p>
        </div>
      </div>
      <div id="text-handle" title="Resize" role="button"></div>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">The figure is an animation of the trace route process.  A host forms an echo request with a TTL of one and a destination IP address and sends the packet.  The command line syntax for the example is trace r t one hundred ninety two dot one hundred sixty eight dot one dot two.  The first router receives this packet and it decrements the TTL by one since it is a hop.  The TTL is now zero so the packet is returned to the sender.  The sending host does not receive the expected echo reply so it increases the TTL to a value of two and resends the packet.  The first router receives the packet and decrements the TTL by one.  The TTL now has a value of one so the router sends the packet to the next router, and this router will decrement the TTL by one.  Now that the TTL is zero the router returns the packet to the sender.  The sender increments the TTL to three and again sends the packet through the network.  When the third router receives the packet the TTL is decremented to zero and the packet is returned to the sender.  Still not receiving an echo reply, the sender increases the TTL to four and sends it across the network.  The packet moves through three routers and now has a TTL of one.  The receiving host receives the packet and sends back the echo reply to the sender.  </div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
