<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>7.3.1.1 ICMPv4 and ICMPv6</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_7.3.1.1_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>ICMPv4 and ICMPv6</h1>
        <div>
          <p>Although IP is only a best-effort protocol, the TCP/IP suite does provide for messages to be sent in the event of certain errors. These messages are sent using the services of ICMP. The purpose of these messages is to provide feedback about issues related to the processing of IP packets under certain conditions, not to make IP reliable. ICMP messages are not required and are often not allowed within a network for security reasons.</p>
          <p>ICMP is available for both IPv4 and IPv6. ICMPv4 is the messaging protocol for IPv4. ICMPv6 provides these same services for IPv6 but includes additional functionality. In this course, the term ICMP will be used when referring to both ICMPv4 and ICMPv6.</p>
          <p>The types of ICMP messages and the reasons why they are sent, are extensive. We will discuss some of the more common messages.</p>
          <p>ICMP messages common to both ICMPv4 and ICMPv6 include:</p>
          <p>
            <ul>
              <li>Host confirmation</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Destination or Service Unreachable</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Time exceeded</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>Route redirection</li>
            </ul>
          </p>
          <p>
            <b>Host Confirmation</b>
          </p>
          <p>An ICMP Echo Message can be used to determine if a host is operational. The local host sends an ICMP Echo Request to a host. If the host is available, the destination host responds with an Echo Reply. In the figure, click the Play button to see an animation of the ICMP Echo Request/Echo Reply. This use of the ICMP Echo messages is the basis of the ping utility. </p>
          <p>
            <b>Destination or Service Unreachable</b>
          </p>
          <p>When a host or gateway receives a packet that it cannot deliver, it can use an ICMP Destination Unreachable message to notify the source that the destination or service is unreachable. The message will include a code that indicates why the packet could not be delivered.</p>
          <p>Some of the Destination Unreachable codes for ICMPv4 are:</p>
          <p>
            <ul>
              <li>0 - Net unreachable</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>1 - Host unreachable</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>2 - Protocol unreachable</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>3 - Port unreachable</li>
            </ul>
          </p>
          <p>
            <b>Note</b>: ICMPv6 has similar but slightly different codes for Destination Unreachable messages.</p>
          <p>
            <b>Time Exceeded</b>
          </p>
          <p>An ICMPv4 Time Exceeded message is used by a router to indicate that a packet cannot be forwarded because the Time to Live (TTL) field of the packet was decremented to 0. If a router receives a packet and decrements the TTL field in the IPv4 packet to zero, it discards the packet and sends a Time Exceeded message to the source host.</p>
          <p>ICMPv6 also sends a Time Exceeded message if the router cannot forward an IPv6 packet because the packet has expired. IPv6 does not have a TTL field; it uses the hop limit field to determine if the packet has expired.</p>
        </div>
      </div>
      <div id="text-handle" title="Resize" role="button"></div>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">The figure is an animation that shows a computer with an IPv4 address of 192.168.10.1 sending an ICMP echo request to a computer with an IPv4 address of 192.168.30.1.  The message travels from the sending computer through a switch to a router.  That router sends the request to another router, then to a switch, and finally to the destination computer.  The receiving computer sends back an ICMP echo reply.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
